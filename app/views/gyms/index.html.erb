<h1>体育館を探す</h1>

<%= form_with url: gyms_path, method: :get, local: true do %>
  <div style="display:flex; gap:8px; flex-wrap:wrap; align-items:center;">
    <%= text_field_tag :q, params[:q], placeholder: "例：新宿、渋谷、世田谷", style: "min-width:260px;" %>
    <%= submit_tag "検索" %>
  </div>
<% end %>

<hr style="margin: 16px 0;">

<% if @q.present? %>
  <p>検索：<strong><%= @q %></strong></p>

  <% if @gyms.any? %>
    <div style="display:grid; gap:10px;">
      <% @gyms.each do |gym| %>
        <div style="border:1px solid #eee; padding:12px; border-radius:10px;">
          <div style="font-weight:700;">
            <%= link_to gym.name, gym_path(gym, q: @q), class: "link" %>
            <% if gym.area.present? %>
              <span style="color:#666; font-weight:400;">（<%= gym.area %>）</span>
            <% end %>
          </div>
          <div style="color:#666; margin-top:4px;"><%= gym.address %></div>
        </div>
      <% end %>
    </div>
  <% else %>
    <p>候補が見つかりませんでした。</p>
  <% end %>
<% else %>
  <p style="color:#666;">エリア名を入力して検索してください。</p>
<% end %>
